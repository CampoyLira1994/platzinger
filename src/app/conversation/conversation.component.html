<div class="conversationContainer bluewhitebg" [ngClass]="{'shaker': shake}">
    <div class="row">
        <div class="col-sm-3 maxwi300">
            <div id="conversationSidebar">
                <div class="vh30">

                    <div *ngIf="friend" class="avatarFrameOnLine">
                        <img *ngIf="friend.avatar" [src]="friend.avatar " class="avatarImage img-fluid" />
                        <img *ngIf="!friend.avatar" id="homeAvartarPicture" class="avatarImage img-fluid" src="../../assets/img/logo_live_{{user.status}}.png">
                    </div>

                </div>
                <div class="vh30"></div>
                <div class="vh25">

                    <div *ngIf="user" class="avatarFrameOnLine">
                        <img *ngIf="user.avatar" [src]="user.avatar " class="avatarImage img-fluid" />
                        <img *ngIf="!user.avatar" id="homeAvartarPicture" class="avatarImage img-fluid" src="../../assets/img/logo_live_{{user.status}}.png">
                    </div>

                </div>
            </div>
        </div>
        <div *ngIf="friend" class="col-sm-9">
            <br />
            <span class="friendName">{{friend.subnick}}</span> ({{friend.status}})
            <hr />
            <div class="vh55 overscroll pabo10" id="messageArea">
                <div class="messageGroup" *ngFor="let m of conversation">
                    <b>{{getUserNickById(m.sender)}}</b> dice: <br />
                    <span>{{m.text}}</span>
                    <span *ngIf="m.text == null">{{m.type}}</span>
                    <img *ngIf="m.img != null" [src]="m.img " class="avatarImage img-fluid" />

                </div>
            </div>
            <div class="messageControlsContainer">
                <textarea [(ngModel)]="this.textMessage" (keyup.enter)="sendMessage()" class="form-control" cols="30" rows="5"></textarea>
                <div id="messageToolBar">
                    <div class="item">
                        <img src="assets/img/icons/regular_smile.gif" class="tool">
                        <i name="caret-down"></i>z
                    </div>
                    <div class="item">
                        <img src="assets/img/icons/wink_smile.gif" class="tool">
                        <i name="caret-down"></i>
                    </div>
                    <div class="item" (click)="sendZumbido()">
                        <img src="assets/img/zumbido.png" class="tool">
                    </div>

                    <a class="btn btn-primary btn-sm marri10" (click)="img()" accept="image/*">Enviar</a>
                    <label class="custom-file-upload">
              <input  type="file" (change)="fileChangeEvent($event)">
              <i name="image"></i> Seleccionar Imagen
            </label>
                    <image-cropper *ngIf="this.imagecropperControl ==true" [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="1 / 1" format="png" (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady()"
                        (loadImageFailed)="loadImageFailed()">
                    </image-cropper>
                </div>
            </div>
        </div>
    </div>
</div>